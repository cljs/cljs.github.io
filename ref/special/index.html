<html><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title></title><meta name="description" /><link href="http://fonts.googleapis.com/css?family=Raleway:400,300,600,700" rel="stylesheet" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" /><link href="/css/normalize.css" rel="stylesheet" /><link href="/css/skeleton.css" rel="stylesheet" /><link href="/css/custom.css" rel="stylesheet" /><link href="/css/github-theme.css" rel="stylesheet" /><link href="/img/icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" /><link href="/img/icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" /><link href="/img/icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" /><link href="/img/icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /><link href="/img/icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" /><link href="/img/icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" /><link href="/img/icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" /><link href="/img/icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /><link href="/img/icons/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /><link href="/img/icons/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png" /><link href="/img/icons/favicon-160x160.png" rel="icon" sizes="160x160" type="image/png" /><link href="/img/icons/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" /><link href="/img/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/img/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /></head><body><div class="container"><nav class="navbar"><div class="container"><ul class="navbar-list"><li class="navbar-item"><a class="navbar-link-logo"><img class="navbar-logo" src="/img/cljs-white.svg" /></a></li><li class="navbar-item"><a class="navbar-title">ClojureScript</a></li><li class="navbar-item"><a class="navbar-link" href="/docs">Docs</a></li><li class="navbar-item"><a class="navbar-link" href="/news">News</a></li></ul></div></nav><div class="container"><div class="row"><div class="three columns"><div><a href="/ref">< Back to Overview</a><div class="sep"></div><div><a href="#DOT">.</a></div><div><a href="#caseSTAR">case*</a></div><div><a href="#catch">catch</a></div><div><a href="#def">def</a></div><div><a href="#defrecordSTAR">defrecord*</a></div><div><a href="#deftypeSTAR">deftype*</a></div><div><a href="#do">do</a></div><div><a href="#finally">finally</a></div><div><a href="#fnSTAR">fn*</a></div><div><a href="#if">if</a></div><div><a href="#import">import</a></div><div><a href="#in-ns">in-ns</a></div><div><a href="#jsSTAR">js*</a></div><div><a href="#letSTAR">let*</a></div><div><a href="#letfnSTAR">letfn*</a></div><div><a href="#load-file">load-file</a></div><div><a href="#load-namespace">load-namespace</a></div><div><a href="#loopSTAR">loop*</a></div><div><a href="#new">new</a></div><div><a href="#ns">ns</a></div><div><a href="#quote">quote</a></div><div><a href="#recur">recur</a></div><div><a href="#require">require</a></div><div><a href="#require-macros">require-macros</a></div><div><a href="#setBANG">set!</a></div><div><a href="#throw">throw</a></div><div><a href="#try">try</a></div><div><a href="#var">var</a></div></div></div><div class="nine columns"><div><h2>Special Forms</h2><div class="sep"></div><div><p>Special Forms are a small collection of symbols which comprise the core
constructs of ClojureScript, upon which all functions and macros are built.</p>
<p>These special forms are special in the sense that they are not in a designated
namespace.  They also have special argument evaluation rules specific to each
form to allow things not possible with normal functions or macros.</p>
<p>It should also be noted that special forms have reserved names which cannot be
shadowed by your own vars.</p>
</div><hr /><div style="position: relative;"><div id="DOT"><strong>.</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/DOT">more details ></a></div><div class="sep"><ul><li><code>(.-foo obj)</code></li><li><code>(.foo obj)</code></li></ul></div><div class="sep">The instance member form works for methods and fields.
They all expand into calls to the dot operator at macroexpansion time.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L2136-L2138">Parser code</a><hr /></div><div style="position: relative;"><div id="caseSTAR"><strong>case*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/caseSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1001-L1019">Parser code</a><hr /></div><div style="position: relative;"><div id="catch"><strong>catch</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/catch">more details ></a></div><div class="sep"><ul><li><code>(catch exception-type name expr*)</code></li></ul></div><div class="sep">catch-clause => (catch classname name expr*)
finally-clause => (finally expr*)
Catches and handles JavaScript exceptions.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1028-L1087">Parser code</a><hr /></div><div style="position: relative;"><div id="def"><strong>def</strong><em>- known as define</em> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/def">more details ></a></div><div class="sep"><ul><li><code>(def symbol)</code></li><li><code>(def symbol init)</code></li><li><code>(def symbol doc-string init)</code></li></ul></div><div class="sep">Creates and interns a global var with the name
of symbol in the current namespace (*ns*) or locates such a var if
it already exists.  If init is supplied, it is evaluated, and the
root binding of the var is set to the resulting value.  If init is
not supplied, the root binding of the var is unaffected.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1089-L1220">Parser code</a><hr /></div><div style="position: relative;"><div id="defrecordSTAR"><strong>defrecord*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/defrecordSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L2039-L2041">Parser code</a><hr /></div><div style="position: relative;"><div id="deftypeSTAR"><strong>deftype*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/deftypeSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L2035-L2037">Parser code</a><hr /></div><div style="position: relative;"><div id="do"><strong>do</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/do">more details ></a></div><div class="sep"><ul><li><code>(do exprs*)</code></li></ul></div><div class="sep">Evaluates the expressions in order and returns the value of
the last. If no expressions are supplied, returns nil.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1427-L1448">Parser code</a><hr /></div><div style="position: relative;"><div id="finally"><strong>finally</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/finally">more details ></a></div><div class="sep"><ul><li><code>(finally expr*)</code></li></ul></div><div class="sep">catch-clause => (catch classname name expr*)
finally-clause => (finally expr*)
Catches and handles JavaScript exceptions.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1028-L1087">Parser code</a><hr /></div><div style="position: relative;"><div id="fnSTAR"><strong>fn*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/fnSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1304-L1375">Parser code</a><hr /></div><div style="position: relative;"><div id="if"><strong>if</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/if">more details ></a></div><div class="sep"><ul><li><code>(if test then else?)</code></li></ul></div><div class="sep">Evaluates test. If not the singular values nil or false,
evaluates and yields then, otherwise, evaluates and yields else. If
else is not supplied it defaults to nil.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L987-L999">Parser code</a><hr /></div><div style="position: relative;"><div id="import"><strong>import</strong> - special form (repl)</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/import">more details ></a></div><div class="sep"><ul><li><code>(import & import-symbols-or-lists)</code></li></ul></div><div class="sep">import-list => (closure-namespace constructor-name-symbols*)

For each name in constructor-name-symbols, adds a mapping from name to the
constructor named by closure-namespace to the current namespace. Use :import in the ns
macro in preference to calling this directly.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/repl.cljc#L651-L727">repl specials table</a><hr /></div><div style="position: relative;"><div id="in-ns"><strong>in-ns</strong> - special form (repl)</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/in-ns">more details ></a></div><div class="sep"><ul><li><code>(in-ns name)</code></li></ul></div><div class="sep">Sets *cljs-ns* to the namespace named by the symbol, creating it if needed.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/repl.cljc#L651-L727">repl specials table</a><hr /></div><div style="position: relative;"><div id="jsSTAR"><strong>js*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/jsSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L2217-L2234">Parser code</a><hr /></div><div style="position: relative;"><div id="letSTAR"><strong>let*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/letSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1539-L1541">Parser code</a><hr /></div><div style="position: relative;"><div id="letfnSTAR"><strong>letfn*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/letfnSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1377-L1419">Parser code</a><hr /></div><div style="position: relative;"><div id="load-file"><strong>load-file</strong> - special form (repl)</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/load-file">more details ></a></div><div class="sep"><ul><li><code>(load-file filename)</code></li></ul></div><div class="sep">Sequentially read and evaluate the set of forms contained in the file.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/repl.cljc#L651-L727">repl specials table</a><hr /></div><div style="position: relative;"><div id="load-namespace"><strong>load-namespace</strong> - special form (repl)</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/load-namespace">more details ></a></div><div class="sep"><ul><li><code>(load-namespace name)</code></li></ul></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/repl.cljc#L651-L727">repl specials table</a><hr /></div><div style="position: relative;"><div id="loopSTAR"><strong>loop*</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/loopSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1543-L1545">Parser code</a><hr /></div><div style="position: relative;"><div id="new"><strong>new</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/new">more details ></a></div><div class="sep"><ul><li><code>(new Constructor. args*)</code></li><li><code>(new Constructor args*)</code></li></ul></div><div class="sep">The args, if any, are evaluated from left to right, and
passed to the JavaScript constructor. The constructed object is
returned.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1566-L1592">Parser code</a><hr /></div><div style="position: relative;"><div id="ns"><strong>ns</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/ns">more details ></a></div><div class="sep"><ul><li><code>(ns name & references)</code></li></ul></div><div class="sep">You must currently use the ns form only with the following caveats

  * You must use the :only form of :use
  * :require supports :as and :refer
    - both options can be skipped
    - in this case a symbol can be used as a libspec directly
      - that is, (:require lib.foo) and (:require [lib.foo]) are both
        supported and mean the same thing
    - prefix lists are not supported
  * The only option for :refer-clojure is :exclude
  * :import is available for importing Google Closure classes
    - ClojureScript types and records should be brought in with :use
      or :require :refer, not :import ed
  * Macros are written in Clojure, and are referenced via the new
    :require-macros / :use-macros options to ns
    - :require-macros and :use-macros support the same forms that
      :require and :use do

Implicit macro loading: If a namespace is required or used, and that
namespace itself requires or uses macros from its own namespace, then
the macros will be implicitly required or used using the same
specifications. This oftentimes leads to simplified library usage,
such that the consuming namespace need not be concerned about
explicitly distinguishing between whether certain vars are functions
or macros.

Inline macro specification: As a convenience, :require can be given
either :include-macros true or :refer-macros [syms...]. Both desugar
into forms which explicitly load the matching Clojure file containing
macros. (This works independently of whether the namespace being
required internally requires or uses its own macros.) For example:

(ns testme.core
(:require [foo.core :as foo :refer [foo-fn] :include-macros true]
          [woz.core :as woz :refer [woz-fn] :refer-macros [app jx]]))

is sugar for

(ns testme.core
(:require [foo.core :as foo :refer [foo-fn]]
          [woz.core :as woz :refer [woz-fn]])
(:require-macros [foo.core :as foo]
                 [woz.core :as woz :refer [app jx]]))</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1904-L2000">Parser code</a><hr /></div><div style="position: relative;"><div id="quote"><strong>quote</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/quote">more details ></a></div><div class="sep"><ul><li><code>(quote form)</code></li></ul></div><div class="sep">Yields the unevaluated form.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1562-L1564">Parser code</a><hr /></div><div style="position: relative;"><div id="recur"><strong>recur</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/recur">more details ></a></div><div class="sep"><ul><li><code>(recur exprs*)</code></li></ul></div><div class="sep">Evaluates the exprs in order, then, in parallel, rebinds
the bindings of the recursion point to the values of the exprs.
Execution then jumps back to the recursion point, a loop or fn method.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1547-L1560">Parser code</a><hr /></div><div style="position: relative;"><div id="require"><strong>require</strong> - special form (repl)</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/require">more details ></a></div><div class="sep"><ul><li><code>(require & args)</code></li></ul></div><div class="sep">  Loads libs, skipping any that are already loaded. Each argument is
either a libspec that identifies a lib or a flag that modifies how all the identified
libs are loaded. Use :require in the ns macro in preference to calling this
directly.

Libs

A 'lib' is a named set of resources in classpath whose contents define a
library of ClojureScript code. Lib names are symbols and each lib is associated
with a ClojureScript namespace. A lib's name also locates its root directory
within classpath using Java's package name to classpath-relative path mapping.
All resources in a lib should be contained in the directory structure under its
root directory. All definitions a lib makes should be in its associated namespace.

'require loads a lib by loading its root resource. The root resource path
is derived from the lib name in the following manner:
Consider a lib named by the symbol 'x.y.z; it has the root directory
<classpath>/x/y/, and its root resource is <classpath>/x/y/z.clj. The root
resource should contain code to create the lib's namespace (usually by using
the ns macro) and load any additional lib resources.

Libspecs

A libspec is a lib name or a vector containing a lib name followed by
options expressed as sequential keywords and arguments.

Recognized options:
:as takes a symbol as its argument and makes that symbol an alias to the
  lib's namespace in the current namespace.
:refer takes a list of symbols to refer from the namespace..
:refer-macros takes a list of macro symbols to refer from the namespace.
:include-macros true causes macros from the namespace to be required.

Flags

A flag is a keyword.
Recognized flags: :reload, :reload-all, :verbose
:reload forces loading of all the identified libs even if they are
  already loaded
:reload-all implies :reload and also forces loading of all libs that the
  identified libs directly or indirectly load via require or use
:verbose triggers printing information about each load, alias, and refer

Example:

The following would load the library clojure.string :as string.

(require '[clojure/string :as string])</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/repl.cljc#L651-L727">repl specials table</a><hr /></div><div style="position: relative;"><div id="require-macros"><strong>require-macros</strong> - special form (repl)</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/require-macros">more details ></a></div><div class="sep"><ul><li><code>(require-macros & args)</code></li></ul></div><div class="sep">Similar to the require REPL special function but
 only for macros.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/repl.cljc#L651-L727">repl specials table</a><hr /></div><div style="position: relative;"><div id="setBANG"><strong>set!</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/setBANG">more details ></a></div><div class="sep"><ul><li><code>(set! js-var val)</code></li></ul></div><div class="sep">Used to set vars and JavaScript object fields</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1594-L1634">Parser code</a><hr /></div><div style="position: relative;"><div id="throw"><strong>throw</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/throw">more details ></a></div><div class="sep"><ul><li><code>(throw expr)</code></li></ul></div><div class="sep">The expr is evaluated and thrown.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1021-L1026">Parser code</a><hr /></div><div style="position: relative;"><div id="try"><strong>try</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/try">more details ></a></div><div class="sep"><ul><li><code>(try expr* catch-clause* finally-clause?)</code></li></ul></div><div class="sep">catch-clause => (catch classname name expr*)
finally-clause => (finally expr*)
Catches and handles JavaScript exceptions.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L1028-L1087">Parser code</a><hr /></div><div style="position: relative;"><div id="var"><strong>var</strong> - special form</div><div style="position: absolute; right: 0; top: 0;"><a href="/ref/special/var">more details ></a></div><div class="sep"><ul><li><code>(var symbol)</code></li></ul></div><div class="sep">The symbol must resolve to a var, and the Var object
itself (not its value) is returned. The reader macro #'x expands to (var x).</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.36/src/main/clojure/cljs/analyzer.cljc#L979-L985">Parser code</a><hr /></div></div></div></div></div><footer class="site-footer"><div class="wrapper"><hr /><div class="cljs-legal">ClojureScript is licensed <a href="http://opensource.org/licenses/eclipse-1.0.php">EPL 1.0</a><br />Copyright © Rich Hickey</div></div></footer></div></body></html>