<html><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title></title><meta name="description" /><link href="http://fonts.googleapis.com/css?family=Raleway:400,300,600,700" rel="stylesheet" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" /><link href="/css/normalize.css" rel="stylesheet" /><link href="/css/skeleton.css" rel="stylesheet" /><link href="/css/custom.css" rel="stylesheet" /><link href="/css/github-theme.css" rel="stylesheet" /><link href="/img/icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" /><link href="/img/icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" /><link href="/img/icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" /><link href="/img/icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /><link href="/img/icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" /><link href="/img/icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" /><link href="/img/icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" /><link href="/img/icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /><link href="/img/icons/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /><link href="/img/icons/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png" /><link href="/img/icons/favicon-160x160.png" rel="icon" sizes="160x160" type="image/png" /><link href="/img/icons/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" /><link href="/img/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/img/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /></head><body><div class="container"><nav class="navbar"><div class="container"><ul class="navbar-list"><li class="navbar-item"><a class="navbar-link-logo"><img class="navbar-logo" src="/img/cljs-white.svg" /></a></li><li class="navbar-item"><a class="navbar-title">ClojureScript</a></li><li class="navbar-item"><a class="navbar-link" href="/api">API</a></li><li class="navbar-item"><a class="navbar-link" href="/news">News</a></li><li class="navbar-item"><a class="navbar-link" href="https://github.com/clojure/clojurescript" target="_blank">GitHub</a></li></ul></div></nav><div class="container"><div class="row"><div class="three columns" style="overflow-x: hidden"><div><a href="/api">< Back to Overview</a><div class="sep"></div><div><a href="#STARcurrent-envSTAR">*current-env*</a></div><div><a href="#are">are</a></div><div><a href="#assert-any">assert-any</a></div><div><a href="#assert-expr">assert-expr</a></div><div><a href="#assert-predicate">assert-predicate</a></div><div><a href="#async">async</a></div><div><a href="#asyncQMARK">async?</a></div><div><a href="#block">block</a></div><div><a href="#clear-envBANG">clear-env!</a></div><div><a href="#compose-fixtures">compose-fixtures</a></div><div><a href="#deftest">deftest</a></div><div><a href="#do-report">do-report</a></div><div><a href="#empty-env">empty-env</a></div><div><a href="#file-and-line">file-and-line</a></div><div><a href="#functionQMARK">function?</a></div><div><a href="#get-and-clear-envBANG">get-and-clear-env!</a></div><div><a href="#get-current-env">get-current-env</a></div><div><a href="#inc-report-counterBANG">inc-report-counter!</a></div><div><a href="#is">is</a></div><div><a href="#join-fixtures">join-fixtures</a></div><div><a href="#js-filename">js-filename</a></div><div><a href="#js-line-and-column">js-line-and-column</a></div><div><a href="#mapped-line-and-column">mapped-line-and-column</a></div><div><a href="#nsQMARK">ns?</a></div><div><a href="#report">report</a></div><div><a href="#run-all-tests">run-all-tests</a></div><div><a href="#run-block">run-block</a></div><div><a href="#run-tests">run-tests</a></div><div><a href="#run-tests-block">run-tests-block</a></div><div><a href="#set-envBANG">set-env!</a></div><div><a href="#successfulQMARK">successful?</a></div><div><a href="#test-all-vars">test-all-vars</a></div><div><a href="#test-all-vars-block">test-all-vars-block</a></div><div><a href="#test-ns">test-ns</a></div><div><a href="#test-ns-block">test-ns-block</a></div><div><a href="#test-var">test-var</a></div><div><a href="#test-var-block">test-var-block</a></div><div><a href="#test-vars">test-vars</a></div><div><a href="#test-vars-block">test-vars-block</a></div><div><a href="#testing">testing</a></div><div><a href="#testing-contexts-str">testing-contexts-str</a></div><div><a href="#testing-vars-str">testing-vars-str</a></div><div><a href="#try-expr">try-expr</a></div><div><a href="#update-current-envBANG">update-current-env!</a></div><div><a href="#use-fixtures">use-fixtures</a></div><div class="sep"></div><div>Types and Protocols</div><div><span style="opacity: 0.3"></span><a href="#IAsyncTest">IAsyncTest</a></div></div></div><div class="nine columns"><div><h2>cljs.test</h2><div>Added in 0.0-2496</div><div class="sep"></div><hr /><div style="position: relative;"><div id="STARcurrent-envSTAR"><strong>*current-env*</strong> - dynamic var</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/STARcurrent-envSTAR">more details ></a></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L269">Source code</a></div><hr /><div style="position: relative;"><div id="are"><strong>are</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/are">more details ></a></div><div class="sep"><div><code>(are argv expr & args)</code></div></div><div class="sep">Checks multiple assertions with a template expression.
See clojure.template/do-template for an explanation of
templates.

Example: (are [x y] (= x y)  
              2 (+ 1 1)
              4 (* 2 2))
Expands to: 
         (do (is (= 2 (+ 1 1)))
             (is (= 4 (* 2 2))))

Note: This breaks some reporting features, such as line numbers.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L168-L190">Source code</a></div><hr /><div style="position: relative;"><div id="assert-any"><strong>assert-any</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/assert-any">more details ></a></div><div class="sep"><div><code>(assert-any msg form)</code></div></div><div class="sep">Returns generic assertion code for any test, including macros, Java
method calls, or isolated symbols.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L45-L57">Source code</a></div><hr /><div style="position: relative;"><div id="assert-expr"><strong>assert-expr</strong> - multimethod</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/assert-expr">more details ></a></div><div class="sep"><div><code>(assert-expr menv msg form)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L66-L71">Source code</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L73-L75">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L77-L81">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L83-L95">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L97-L112">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L114-L134">Dispatch method</a></div><hr /><div style="position: relative;"><div id="assert-predicate"><strong>assert-predicate</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/assert-predicate">more details ></a></div><div class="sep"><div><code>(assert-predicate msg form)</code></div></div><div class="sep">Returns generic assertion code for any functional predicate.  The
'expected' argument to 'report' will contains the original form, the
'actual' argument will contain the form with all its sub-forms
evaluated.  If the predicate returns false, the 'actual' form will
be wrapped in (not...).</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L25-L43">Source code</a></div><hr /><div style="position: relative;"><div id="async"><strong>async</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/async">more details ></a></div><div class="sep"><div><code>(async done & body)</code></div></div><div class="sep">Wraps body as a CPS function that can be returned from a test to
continue asynchronously.  Binds done to a function that must be
invoked once and from an async context after any assertions.

(deftest example-with-timeout
  (async done
    (js/setTimeout (fn []
                     ;; make assertions in async context...
                     (done) ;; ...then call done
                     )
                   0)))</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L224-L241">Source code</a></div><hr /><div style="position: relative;"><div id="asyncQMARK"><strong>async?</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/asyncQMARK">more details ></a></div><div class="sep"><div><code>(async? x)</code></div></div><div class="sep">Returns whether x implements IAsyncTest.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L421-L424">Source code</a></div><hr /><div style="position: relative;"><div id="block"><strong>block</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/block">more details ></a></div><div class="sep"><div><code>(block fns)</code></div></div><div class="sep">Tag a seq of fns to be picked up by run-block as injected
continuation.  See run-block.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L445-L450">Source code</a></div><hr /><div style="position: relative;"><div id="clear-envBANG"><strong>clear-env!</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/clear-envBANG">more details ></a></div><div class="sep"><div><code>(clear-env!)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L280-L281">Source code</a></div><hr /><div style="position: relative;"><div id="compose-fixtures"><strong>compose-fixtures</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/compose-fixtures">more details ></a></div><div class="sep"><div><code>(compose-fixtures f1 f2)</code></div></div><div class="sep">Composes two fixture functions, creating a new fixture function
that combines their behavior.

NOTE: Incompatible with map fixtures.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L496-L502">Source code</a></div><hr /><div style="position: relative;"><div id="deftest"><strong>deftest</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/deftest">more details ></a></div><div class="sep"><div><code>(deftest name & body)</code></div></div><div class="sep">Defines a test function with no arguments.  Test functions may call
other tests, so tests may be composed.  If you compose tests, you
should also define a function named test-ns-hook; run-tests will
call test-ns-hook instead of testing all vars.

Note: Actually, the test body goes in the :test metadata on the var,
and the real function (the value of the var) calls test-var on
itself.

When cljs.analyzer/*load-tests* is false, deftest is ignored.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L206-L222">Source code</a></div><hr /><div style="position: relative;"><div id="do-report"><strong>do-report</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/do-report">more details ></a></div><div class="sep"><div><code>(do-report m)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L407-L412">Source code</a></div><hr /><div style="position: relative;"><div id="empty-env"><strong>empty-env</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/empty-env">more details ></a></div><div class="sep"><div><code>(empty-env)</code></div><div><code>(empty-env reporter)</code></div></div><div class="sep">Generates a testing environment with a reporter.
(empty-env) - uses the :cljs.test/default reporter.
(empty-env :cljs.test/pprint) - pretty prints all data structures. 
(empty-env reporter) - uses a reporter of your choosing.

To create your own reporter see cljs.test/report</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L252-L267">Source code</a></div><hr /><div style="position: relative;"><div id="file-and-line"><strong>file-and-line</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/file-and-line">more details ></a></div><div class="sep"><div><code>(file-and-line exception depth)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L393-L405">Source code</a></div><hr /><div style="position: relative;"><div id="functionQMARK"><strong>function?</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/functionQMARK">more details ></a></div><div class="sep"><div><code>(function? menv x)</code></div></div><div class="sep">Returns true if argument is a function or a symbol that resolves to
a function (not a macro).</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L19-L23">Source code</a></div><hr /><div style="position: relative;"><div id="get-and-clear-envBANG"><strong>get-and-clear-env!</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/get-and-clear-envBANG">more details ></a></div><div class="sep"><div><code>(get-and-clear-env!)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L283-L287">Source code</a></div><hr /><div style="position: relative;"><div id="get-current-env"><strong>get-current-env</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/get-current-env">more details ></a></div><div class="sep"><div><code>(get-current-env)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L271-L272">Source code</a></div><hr /><div style="position: relative;"><div id="inc-report-counterBANG"><strong>inc-report-counter!</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/inc-report-counterBANG">more details ></a></div><div class="sep"><div><code>(inc-report-counter! name)</code></div></div><div class="sep">Increments the named counter in *report-counters*, a ref to a map.
Does nothing if *report-counters* is nil.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L305-L310">Source code</a></div><hr /><div style="position: relative;"><div id="is"><strong>is</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/is">more details ></a></div><div class="sep"><div><code>(is form)</code></div><div><code>(is form msg)</code></div></div><div class="sep">Generic assertion macro.  'form' is any predicate test.
'msg' is an optional message to attach to the assertion.

Example: (is (= 4 (+ 2 2)) "Two plus two should be 4")

Special forms:

(is (thrown? c body)) checks that an instance of c is thrown from
body, fails if not; then returns the thing thrown.

(is (thrown-with-msg? c re body)) checks that an instance of c is
thrown AND that the message on the exception matches (with
re-find) the regular expression re.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L150-L166">Source code</a></div><hr /><div style="position: relative;"><div id="join-fixtures"><strong>join-fixtures</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/join-fixtures">more details ></a></div><div class="sep"><div><code>(join-fixtures fixtures)</code></div></div><div class="sep">Composes a collection of fixtures, in order.  Always returns a valid
fixture function, even if the collection is empty.

NOTE: Incompatible with map fixtures.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L504-L510">Source code</a></div><hr /><div style="position: relative;"><div id="js-filename"><strong>js-filename</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/js-filename">more details ></a></div><div class="sep"><div><code>(js-filename stack-element)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L372-L373">Source code</a></div><hr /><div style="position: relative;"><div id="js-line-and-column"><strong>js-line-and-column</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/js-line-and-column">more details ></a></div><div class="sep"><div><code>(js-line-and-column stack-element)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L366-L370">Source code</a></div><hr /><div style="position: relative;"><div id="mapped-line-and-column"><strong>mapped-line-and-column</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/mapped-line-and-column">more details ></a></div><div class="sep"><div><code>(mapped-line-and-column filename line column)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L375-L391">Source code</a></div><hr /><div style="position: relative;"><div id="nsQMARK"><strong>ns?</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/nsQMARK">more details ></a></div><div class="sep"><div><code>(ns? x)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L246-L247">Source code</a></div><hr /><div style="position: relative;"><div id="report"><strong>report</strong> - multimethod</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/report">more details ></a></div><div class="sep">Generic reporting function, may be overridden to plug in
   different report formats (e.g., TAP, JUnit).  Assertions such as
   'is' call 'report' to indicate results.  The argument given to
   'report' will be a map with a :type key.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L312-L318">Source code</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L320">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L322-L323">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L330-L336">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L338-L344">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L346-L349">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L351-L352">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L355">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L356-L357">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L358">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L359">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L360">Dispatch method</a> | <a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L361">Dispatch method</a></div><hr /><div style="position: relative;"><div id="run-all-tests"><strong>run-all-tests</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/run-all-tests">more details ></a></div><div class="sep"><div><code>(run-all-tests)</code></div><div><code>(run-all-tests re)</code></div><div><code>(run-all-tests re env)</code></div></div><div class="sep">Runs all tests in all namespaces; prints results.
Optional argument is a regular expression; only namespaces with
names matching the regular expression (with re-matches) will be
tested.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L298-L310">Source code</a></div><hr /><div style="position: relative;"><div id="run-block"><strong>run-block</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/run-block">more details ></a></div><div class="sep"><div><code>(run-block fns)</code></div></div><div class="sep">Invoke all functions in fns with no arguments. A fn can optionally
return

an async test - is invoked with a continuation running left fns

a seq of fns tagged per block - are invoked immediately after fn</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L426-L443">Source code</a></div><hr /><div style="position: relative;"><div id="run-tests"><strong>run-tests</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/run-tests">more details ></a></div><div class="sep"><div><code>(run-tests)</code></div><div><code>(run-tests env-or-ns)</code></div><div><code>(run-tests env-or-ns & namespaces)</code></div></div><div class="sep">Runs all tests in the given namespaces; prints results.
Defaults to current namespace if none given. Does not return a meaningful
value due to the possiblity of asynchronous execution. To detect test
completion add a :end-run-tests method case to the cljs.test/report
multimethod.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L284-L296">Source code</a></div><hr /><div style="position: relative;"><div id="run-tests-block"><strong>run-tests-block</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/run-tests-block">more details ></a></div><div class="sep"><div><code>(run-tests-block env-or-ns & namespaces)</code></div></div><div class="sep">Like test-vars, but returns a block for further composition and
later execution.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L249-L282">Source code</a></div><hr /><div style="position: relative;"><div id="set-envBANG"><strong>set-env!</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/set-envBANG">more details ></a></div><div class="sep"><div><code>(set-env! new-env)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L277-L278">Source code</a></div><hr /><div style="position: relative;"><div id="successfulQMARK"><strong>successful?</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/successfulQMARK">more details ></a></div><div class="sep"><div><code>(successful? summary)</code></div></div><div class="sep">Returns true if the given test summary indicates all tests
were successful, false otherwise.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L588-L593">Source code</a></div><hr /><div style="position: relative;"><div id="test-all-vars"><strong>test-all-vars</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-all-vars">more details ></a></div><div class="sep"><div><code>(test-all-vars [quote ns :as form])</code></div></div><div class="sep">Calls test-vars on every var with :test metadata interned in the
namespace, with fixtures.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L335-L342">Source code</a></div><hr /><div style="position: relative;"><div id="test-all-vars-block"><strong>test-all-vars-block</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-all-vars-block">more details ></a></div><div class="sep"><div><code>(test-all-vars-block [quote ns])</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L312-L333">Source code</a></div><hr /><div style="position: relative;"><div id="test-ns"><strong>test-ns</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-ns">more details ></a></div><div class="sep"><div><code>(test-ns ns)</code></div><div><code>(test-ns env [quote ns :as form])</code></div></div><div class="sep">If the namespace defines a function named test-ns-hook, calls that.
Otherwise, calls test-all-vars on the namespace.  'ns' is a
namespace object or a symbol.

Internally binds *report-counters* to a ref initialized to
*initial-report-counters*.  </div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L361-L373">Source code</a></div><hr /><div style="position: relative;"><div id="test-ns-block"><strong>test-ns-block</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-ns-block">more details ></a></div><div class="sep"><div><code>(test-ns-block env [quote ns :as form])</code></div></div><div class="sep">Like test-ns, but returns a block for further composition and
later execution.  Does not clear the current env.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L344-L359">Source code</a></div><hr /><div style="position: relative;"><div id="test-var"><strong>test-var</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-var">more details ></a></div><div class="sep"><div><code>(test-var v)</code></div></div><div class="sep">If v has a function in its :test metadata, calls that function,
add v to :testing-vars property of env.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L483-L487">Source code</a></div><hr /><div style="position: relative;"><div id="test-var-block"><strong>test-var-block</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-var-block">more details ></a></div><div class="sep"><div><code>(test-var-block v)</code></div></div><div class="sep">Like test-var, but returns a block for further composition and
later execution.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L476-L481">Source code</a></div><hr /><div style="position: relative;"><div id="test-vars"><strong>test-vars</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-vars">more details ></a></div><div class="sep"><div><code>(test-vars vars)</code></div></div><div class="sep">Groups vars by their namespace and runs test-vars on them with
appropriate fixtures assuming they are present in the current
testing environment.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L576-L583">Source code</a></div><hr /><div style="position: relative;"><div id="test-vars-block"><strong>test-vars-block</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/test-vars-block">more details ></a></div><div class="sep"><div><code>(test-vars-block vars)</code></div></div><div class="sep">Like test-vars, but returns a block for further composition and
later execution.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L543-L574">Source code</a></div><hr /><div style="position: relative;"><div id="testing"><strong>testing</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/testing">more details ></a></div><div class="sep"><div><code>(testing string & body)</code></div></div><div class="sep">Adds a new string to the list of testing contexts.  May be nested,
but must occur inside a test function (deftest).</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L192-L201">Source code</a></div><hr /><div style="position: relative;"><div id="testing-contexts-str"><strong>testing-contexts-str</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/testing-contexts-str">more details ></a></div><div class="sep"><div><code>(testing-contexts-str)</code></div></div><div class="sep">Returns a string representation of the current test context. Joins
strings in *testing-contexts* with spaces.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L299-L303">Source code</a></div><hr /><div style="position: relative;"><div id="testing-vars-str"><strong>testing-vars-str</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/testing-vars-str">more details ></a></div><div class="sep"><div><code>(testing-vars-str m)</code></div></div><div class="sep">Returns a string representation of the current test.  Renders names
in *testing-vars* as a list, then the source file and line of
current assertion.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L289-L297">Source code</a></div><hr /><div style="position: relative;"><div id="try-expr"><strong>try-expr</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/try-expr">more details ></a></div><div class="sep"><div><code>(try-expr msg form)</code></div></div><div class="sep">Used by the 'is' macro to catch unexpected exceptions.
You don't call this.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L136-L145">Source code</a></div><hr /><div style="position: relative;"><div id="update-current-envBANG"><strong>update-current-env!</strong> - function</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/update-current-envBANG">more details ></a></div><div class="sep"><div><code>(update-current-env! ks f & args)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L274-L275">Source code</a></div><hr /><div style="position: relative;"><div id="use-fixtures"><strong>use-fixtures</strong> - macro</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/use-fixtures">more details ></a></div><div class="sep"><div><code>(use-fixtures type & fns)</code></div></div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljc#L378-L388">Source code</a></div><div class="sep"></div><h4>Types and Protocols</h4><hr /><div style="position: relative;"><div id="IAsyncTest"><strong>IAsyncTest</strong> - protocol</div><div style="position: absolute; right: 0; top: 0;"><a href="/api/cljs.test/IAsyncTest">more details ></a></div><div class="sep">Marker protocol denoting CPS function to begin asynchronous
  testing.</div><div class="sep"></div><a href="https://github.com/clojure/clojurescript/blob/r1.9.93/src/main/cljs/cljs/test.cljs#L417-L419">Source code</a></div></div></div></div></div><footer class="site-footer"><div class="wrapper"><hr /><div class="cljs-legal">ClojureScript is licensed <a href="http://opensource.org/licenses/eclipse-1.0.php">EPL 1.0</a><br />Copyright © Rich Hickey</div></div></footer></div></body></html>