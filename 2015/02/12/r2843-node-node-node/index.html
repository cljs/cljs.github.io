<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>r0.0-2843 - Node, Node, Node</title>
  <meta name="description" content="This release is primarily about outstanding Node.js targetissues. Further changes have been made to support Node.js v0.12specifically around the deprecation ...">

  <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="http://cljsinfo.github.io/2015/02/12/r2843-node-node-node/">
  <link rel="alternate" type="application/rss+xml" title="ClojureScript" href="http://cljsinfo.github.io/feed.xml" />

  <link rel="apple-touch-icon" sizes="57x57" href="/img/icons/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/img/icons/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/img/icons/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/img/icons/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/img/icons/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/img/icons/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/icons/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/img/icons/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/icons/apple-touch-icon-180x180.png">
  <link rel="icon" type="image/png" href="/img/icons/favicon-192x192.png" sizes="192x192">
  <link rel="icon" type="image/png" href="/img/icons/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/img/icons/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/img/icons/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/img/icons/favicon-32x32.png" sizes="32x32">
</head>


  <body>
    <div class="container">

      <header class="site-header">

  <div class="wrapper">

    <a href="/"><img class="logo" src="/img/logo-light.svg"></a>

    <div class="title-block">
      <div class="title">ClojureScript</div>
      <div class="subtitle">early website draft</div>
    </div>

    <nav class="site-nav">
      <a class="page-link " href="/about">About</a>
      <a class="page-link " href="/docs">Docs</a>
      <a class="page-link active" href="/news">News</a>
      <a class="page-link " href="/community">Community</a>
    </nav>

    <nav class="site-nav-ext">
      <a class="page-link-ext" href="https://github.com/clojure/clojurescript">GitHub</a>
      <a class="page-link-ext" href="http://dev.clojure.org/jira/browse/CLJS">Jira</a>
      <a class="page-link-ext" href="http://clojure.org">Clo<i>j</i>ure <img width="24px" src="/img/clojure-icon.gif"></a>

    </nav>

  </div>

</header>


      <div class="wrapper nosidebar newsContent">

  <div class="inner-content">
    <header class="post-header">
      <h1 class="post-title">r0.0-2843 - Node, Node, Node</h1>
      <p class="post-meta">Feb 12, 2015
       by David Nolen
      <a href="https://groups.google.com/d/msg/clojurescript/9ZrGYIhRzqM/-6GM31HTz7wJ">on Google Groups</a>
      
      
      </p>
      <hr>
    </header>

    <article class="post-content">

      
      <p>Leiningen dependency information:
      <pre><code>[org.clojure/clojurescript "0.0-2843"]</code></pre>
      </p>
      

      <p>This release is primarily about outstanding Node.js target
issues. Further changes have been made to support Node.js v0.12
specifically around the deprecation of util.print. Node.js target now
supports :main same as browser based :none builds. Node.js :simple and
:advanced builds now set goog.global correctly ensuring that
core.async works properly. The Node.js REPL should now work on slower
machines. And all of these enhancements have been made with the
Windows platform in mind.</p>

<p>We&#39;ve also solidified and documented the new generic source mapping
infrastructure for custom REPLs. Figwheel and Ambly are already taking
advantage of this to great effect.</p>

<p>Printing is now customizable in order to support custom printing in
Chrome DevTools, there&#39;s some prototype work based on this happening
here: <a href="https://github.com/binaryage/cljs-devtools-sample">https://github.com/binaryage/cljs-devtools-sample</a>.</p>

<p>cljs.test now supports macro inference simplifying testing at a REPL.</p>

<p>Full list of changes, fixes, and enhancements follows.</p>

<p>Feedback welcome!</p>

<h2>0.0-2843</h2>

<h3>Enhancements</h3>

<ul>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1032">CLJS-1032</a>: Node.js target should support :main</li>
<li>require cljs.test macro ns in cljs.test to get macro inference goodness</li>
<li>include :url entries to original sources in mapped stacktraces if it can be determined   from the classpath</li>
<li>support custom mapped stacktrace printing</li>
<li>provide data oriented stacktrace mapping api</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1025">CLJS-1025</a>: make REPL source mapping infrastructure generic</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1010">CLJS-1010</a>: Printing hook for cljs-devtools</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1016">CLJS-1016</a>: make &quot;...&quot; marker configurable</li>
</ul>

<h3>Changes</h3>

<ul>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-887">CLJS-887</a>: browser repl should serve CSS</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1031">CLJS-1031</a>: Get Closure Compiler over https in the bootstrap script</li>
</ul>

<h3>Fixes</h3>

<ul>
<li>cljs.nodejscli ns needs to set <code>goog.global</code> when <code>COMPILED</code> is true, this fixes the fundamental issues for ASYNC-110</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-967">CLJS-967</a>: &quot;java.net.ConnectException: Connection refused&quot; when running node repl</li>
<li>pass relevant source map options in the incremental compile case</li>
<li>add some missing source-map customization flags to optimized builds</li>
<li>fix missed Rhino REPL regression, the surrounding REPL infrastructure creates cljs.user for us</li>
<li>util.print has been deprecated in Node.js v0.12. Switch to console.log in Node.js REPLs.</li>
<li>change <code>cljs.closure/watch</code> so it correctly watches all subdirectories do not recompile unless changed path is a file with .cljs or .js extension</li>
</ul>

    </article>
  </div>

</div>


      <footer class="site-footer">

  <div class="wrapper">

    <hr>

    <div class="community-note">
      <i class="fa fa-tree"></i>
      website created by the community.<br>
      <a class="acknowledgements-link" href="/acknowledgements">acknowledgements</a>
    </div>

    <div class="cljs-legal">
      ClojureScript is licensed <a href="http://opensource.org/licenses/eclipse-1.0.php">EPL 1.0</a><br>
      Copyright Â© Rich Hickey
    </div>
  </div>
</footer>


    </div>
  </body>

</html>
