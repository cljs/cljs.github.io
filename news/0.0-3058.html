<html><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title></title><meta name="description" /><link href="http://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700" rel="stylesheet" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" /><link href="/css/normalize.css" rel="stylesheet" /><link href="/css/skeleton.css" rel="stylesheet" /><link href="/css/custom.css" rel="stylesheet" /><link href="/css/github-theme.css" rel="stylesheet" /><link href="/img/icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" /><link href="/img/icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" /><link href="/img/icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" /><link href="/img/icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /><link href="/img/icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" /><link href="/img/icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" /><link href="/img/icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" /><link href="/img/icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /><link href="/img/icons/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /><link href="/img/icons/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png" /><link href="/img/icons/favicon-160x160.png" rel="icon" sizes="160x160" type="image/png" /><link href="/img/icons/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" /><link href="/img/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/img/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /></head><body><div class="container"><nav class="navbar"><div class="container"><ul class="navbar-list"><li class="navbar-item"><a class="navbar-link-logo"><img class="navbar-logo" src="/img/cljs-white.svg" /></a></li><li class="navbar-item"><a class="navbar-title">ClojureScript</a></li><li class="navbar-item"><a class="navbar-link" href="/api">API</a></li><li class="navbar-item"><a class="navbar-link" href="/news">News</a></li><li class="navbar-item"><a class="navbar-link" href="https://github.com/clojure/clojurescript" target="_blank">GitHub</a></li></ul></div></nav><div class="container"><div class="row"><div class="three columns" style="overflow-x: hidden"><div class="news-sidebar"><div><a href="/versions">Version Details</a></div><div class="sep"></div><div><span class="version"><a href="/news/1.9.89">1.9.89</a></span></div><div><span class="version"><a href="/news/1.9.76">1.9.76</a></span></div><div><span class="version"><a href="/news/1.9.36">1.9.36</a></span></div><div><span class="version"><a href="/news/1.9.14">1.9.14</a></span></div><div><span class="version"><a href="/news/1.8.51">1.8.51</a></span></div><div><span class="version"><a href="/news/1.8.40">1.8.40</a></span></div><div><span class="version"><a href="/news/1.8.34">1.8.34</a></span></div><div><span class="version"><a href="/news/1.7.228">1.7.228</a></span></div><div><span class="version"><a href="/news/1.7.170">1.7.170</a></span></div><div><span class="version"><a href="/news/1.7.145">1.7.145</a></span></div><div><span class="version"><a href="/news/1.7.48">1.7.48</a></span></div><div><span class="version"><a href="/news/1.7.28">1.7.28</a></span></div><div><span class="version"><a href="/news/0.0-3308">0.0-3308</a></span></div><div><span class="version"><a href="/news/0.0-3255">0.0-3255</a></span></div><div><span class="version"><a href="/news/0.0-3211">0.0-3211</a></span></div><div><span class="version"><a href="/news/0.0-3196">0.0-3196</a></span></div><div><span class="version"><a href="/news/0.0-3126">0.0-3126</a></span></div><div><span class="version"><a href="/news/0.0-3115">0.0-3115</a></span></div><div class="active"><span class="version"><a href="/news/0.0-3058">0.0-3058</a></span></div><div><span class="version"><a href="/news/0.0-2913">0.0-2913</a></span></div><div><span class="version"><a href="/news/0.0-2843">0.0-2843</a></span></div><div><span class="version"><a href="/news/0.0-2814">0.0-2814</a></span></div><div><span class="version"><a href="/news/0.0-2755">0.0-2755</a></span></div><div><span class="version"><a href="/news/0.0-2740">0.0-2740</a></span></div><div><span class="version"><a href="/news/0.0-2719">0.0-2719</a></span></div><div><span class="version"><a href="/news/0.0-2644">0.0-2644</a></span></div><div><span class="version"><a href="/news/0.0-2505">0.0-2505</a></span></div><div><span class="version"><a href="/news/0.0-2496">0.0-2496</a></span></div><div><span class="version"><a href="/news/0.0-2411">0.0-2411</a></span></div><div><span class="version"><a href="/news/0.0-2371">0.0-2371</a></span></div><div><span class="version"><a href="/news/0.0-2356">0.0-2356</a></span></div><div><span class="version"><a href="/news/0.0-2341">0.0-2341</a></span></div><div><span class="version"><a href="/news/0.0-2322">0.0-2322</a></span></div><div><span class="version"><a href="/news/0.0-2311">0.0-2311</a></span></div><div><span class="version"><a href="/news/0.0-2301">0.0-2301</a></span></div><div><span class="version"><a href="/news/0.0-2280">0.0-2280</a></span></div><div><span class="version"><a href="/news/0.0-2277">0.0-2277</a></span></div><div><span class="version"><a href="/news/0.0-2268">0.0-2268</a></span></div><div><span class="version"><a href="/news/0.0-2261">0.0-2261</a></span></div><div><span class="version"><a href="/news/0.0-2234">0.0-2234</a></span></div><div><span class="version"><a href="/news/0.0-2227">0.0-2227</a></span></div><div><span class="version"><a href="/news/0.0-2202">0.0-2202</a></span></div><div><span class="version"><a href="/news/0.0-2199">0.0-2199</a></span></div><div><span class="version"><a href="/news/0.0-2197">0.0-2197</a></span></div><div><span class="version"><a href="/news/0.0-2173">0.0-2173</a></span></div><div><span class="version"><a href="/news/0.0-2156">0.0-2156</a></span></div><div><span class="version"><a href="/news/0.0-2138">0.0-2138</a></span></div><div><span class="version"><a href="/news/0.0-2134">0.0-2134</a></span></div><div><span class="version"><a href="/news/0.0-2127">0.0-2127</a></span></div><div><span class="version"><a href="/news/0.0-2120">0.0-2120</a></span></div><div><span class="version"><a href="/news/0.0-2067">0.0-2067</a></span></div><div><span class="version"><a href="/news/0.0-2060">0.0-2060</a></span></div><div><span class="version"><a href="/news/0.0-2030">0.0-2030</a></span></div><div><span class="version"><a href="/news/0.0-2024">0.0-2024</a></span></div><div><span class="version"><a href="/news/0.0-2014">0.0-2014</a></span></div><div><span class="version"><a href="/news/0.0-1978">0.0-1978</a></span></div><div><span class="version"><a href="/news/0.0-1934">0.0-1934</a></span></div><div><span class="version"><a href="/news/0.0-1933">0.0-1933</a></span></div><div><span class="version"><a href="/news/0.0-1913">0.0-1913</a></span></div><div><span class="version"><a href="/news/0.0-1909">0.0-1909</a></span></div><div><span class="version"><a href="/news/0.0-1885">0.0-1885</a></span></div><div><span class="version"><a href="/news/0.0-1877">0.0-1877</a></span></div><div><span class="version"><a href="/news/0.0-1859">0.0-1859</a></span></div><div><span class="version"><a href="/news/0.0-1847">0.0-1847</a></span></div><div><span class="version"><a href="/news/0.0-1798">0.0-1798</a></span></div><div><span class="version"><a href="/news/0.0-1586">0.0-1586</a></span></div><div><span class="version"><a href="/news/0.0-1535">0.0-1535</a></span></div><div><span class="version"><a href="/news/0.0-1513">0.0-1513</a></span></div><div><span class="version"><a href="/news/0.0-1503">0.0-1503</a></span></div><div><span class="version"><a href="/news/0.0-1443">0.0-1443</a></span></div><div><span class="version"><a href="/news/0.0-1236">0.0-1236</a></span></div><div><span class="version"><a href="/news/0.0-1211">0.0-1211</a></span></div><div><span class="version"><a href="/news/0.0-971">0.0-971</a></span></div><div><span class="version"><a href="/news/0.0-927">0.0-927</a></span></div></div></div><div class="nine columns"><div><h2>0.0-3058 - Enhanced REPLs, faster compile times</h2><p>Mar 9, 2015 by David Nolen <a href="https://groups.google.com/d/msg/clojurescript/fdT3f1HxJzM/rCbi7L1AI24J">on Google Groups</a></p><article><p>This is a significant enhancement release around REPLs and compile times.</p>
<p>All builtin REPLs (Nashorn, Node.js, Rhino and the browser REPL) now
support the helper functions normally available via clojure.repl,
these include: doc, find-doc, apropos, dir, source, and pst.  All of the
builtins REPL now also support source mapped stacktraces.</p>
<p>This release also includes many enhancements around compile times.</p>
<p>ClojureScript now ships with a default :optimizations setting of
:none. Implicit now when using :none is source map generation and analysis
caching. Analysis caching significantly speeds up compile times.</p>
<p>The standard library (cljs.core) is now AOTed compiled to JavaScript
along with an AOTed analysis dump and an AOTed source map. This
dramatically cuts down on cold start compile times. The standard
library is never actually ever analyzed or compiled in your own
builds. The result is particularly dramatic for REPLs.</p>
<p>ClojureScript is also now available for the first time as a standalone
AOTed JAR. The Quick Start introduction has been rewritten in terms of
the standalone JAR:
<a href="https://github.com/clojure/clojurescript/wiki/Quick-Start">https://github.com/clojure/clojurescript/wiki/Quick-Start</a></p>
<p>The new Quick Start is essential reading even if you are a relatively
experienced ClojureScript developer.</p>
<p>As usual feedback welcome!</p>
<h2 id="0-0-3058">0.0-3058</h2>
<h3 id="enhancements">Enhancements</h3>
<ul>
<li>browser REPL source mapping for Firefox, Safari, Chrome</li>
<li>macro support in REPL special functions</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-897">CLJS-897</a>: AOT core.cljs <a href="http://dev.clojure.org/jira/browse/CLJS-899">CLJS-899</a>: AOT cache core.cljs analysis</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1078">CLJS-1078</a>: Nashorn REPL should use persistent code cache</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1079">CLJS-1079</a>: add way to execute arbitrary fn upon watch build completion</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1034">CLJS-1034</a>: Support REPL-defined functions in stacktrace infrastructure</li>
<li>source mapping for Rhino</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1071">CLJS-1071</a>: support symbol keys in :closure-defines</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1014">CLJS-1014</a>: Support Closure Defines under :none</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1068">CLJS-1068</a>: node target define</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1069">CLJS-1069</a>: Generic :jsdoc support</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1030">CLJS-1030</a>: add <code>cljs.repl/pst</code></li>
<li>add <code>cljs.repl/apropos</code>, <code>cljs.repl/find-doc</code>, <code>cljs.repl/dir</code></li>
<li>fix <code>cljs.analyzer.api/all-ns</code> docstring</li>
<li>add <code>cljs.analyzer.api/ns-publics</code></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1055">CLJS-1055</a>: cljs.repl/doc should support namespaces and special forms</li>
<li>Add ClojureScript special form doc map</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1054">CLJS-1054</a>: add clojure.repl/source functionality to cljs.repl</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1053">CLJS-1053</a>: REPLs need import special fn</li>
</ul>
<h3 id="changes">Changes</h3>
<ul>
<li>move :init up in cljs.repl/repl</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1087">CLJS-1087</a>: with-out-str unexpectedly affected by <em>print-newline</em></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1093">CLJS-1093</a>: Better compiler defaults</li>
<li>Bump deps latest Closure Compiler, Rhino 1.7R5, data.json 0.2.6, tool.reader 0.8.16</li>
<li>more sensible error if cljs.repl/repl arguments after the first incorrectly supplied</li>
<li>default REPLs to :cache-analysis true</li>
<li>default :output-dir for Nashorn and Node REPLs</li>
<li>change ES6 Map <code>get</code> support to take additional <code>not-found</code> parameter</li>
<li>deprecate clojure.reflect namespace now that REPLs are significantly enhanced, static vars, etc.</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>stop blowing away cljs.user in browser REPL so REPL fns/macros remain available</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1098">CLJS-1098</a>: Browser REPL needs to support :reload and :reload-all</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1097">CLJS-1097</a>: source map url for AOTed cljs.core is wrong</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1094">CLJS-1094</a>: read option not used by cljs.repl/repl*</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1089">CLJS-1089</a>: AOT analysis cache has bad :file paths</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1057">CLJS-1057</a>: Nashorn REPL should not use EDN rep for errors</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1086">CLJS-1086</a>: Keyword constants should have stable names</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-964">CLJS-964</a>: Redefining exists? does not emit a warning like redefining array? does.</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-937">CLJS-937</a>: local fn name should be lexically munged</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1082">CLJS-1082</a>: analysis memoization bug</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-978">CLJS-978</a>: Analysis caching doesn&#39;t account for constants table</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-865">CLJS-865</a>: remove <code>cljs.js-deps/goog-resource</code> hack</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1077">CLJS-1077</a>: analyze-deps infinite recursive loop</li>
<li>manually set *e in Rhino on JS exception</li>
<li>REPL options merging needs to be more disciplined</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1072">CLJS-1072</a>: Calling .hasOwnProperty(&quot;source&quot;) in Clojurescript&#39;s string/replace will break with ES6</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1064">CLJS-1064</a>: ex-info is not printable</li>
<li>Fix REPLs emitting code into .repl directory</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1066">CLJS-1066</a>: Rhino REPL regression</li>
<li>be more disciplined about ints in murmur3 code</li>
<li>Node.js REPL should work even if :output-dir not supplied</li>
<li>Nashorn environment doesn&#39;t supply console, setup printing correctly</li>
</ul>
</article><div><h2>API Additions</h2><div><em>including pre-releases 0.0-3053, 0.0-3030, 0.0-2985</em></div><div class="sep"></div><ul><li><a href="/api/cljs.analyzer.api/ns-publics">cljs.analyzer.api/ns-publics</a></li><li><a href="/api/cljs.core/STARtargetSTAR">*target*</a></li><li><a href="/api/cljs.core/import">import (repl)</a></li><li><a href="/api/cljs.repl.browser/chrome-st-el-GTframe">cljs.repl.browser/chrome-st-el->frame</a></li><li><a href="/api/cljs.repl.browser/firefox-clean-function">cljs.repl.browser/firefox-clean-function</a></li><li><a href="/api/cljs.repl.browser/firefox-st-el-GTframe">cljs.repl.browser/firefox-st-el->frame</a></li><li><a href="/api/cljs.repl.browser/parse-file">cljs.repl.browser/parse-file</a></li><li><a href="/api/cljs.repl.browser/parse-file-line-column">cljs.repl.browser/parse-file-line-column</a></li><li><a href="/api/cljs.repl.browser/parse-stacktrace">cljs.repl.browser/parse-stacktrace</a></li><li><a href="/api/cljs.repl.browser/repl-envSTAR">cljs.repl.browser/repl-env*</a></li><li><a href="/api/cljs.repl.browser/safari-st-el-GTframe">cljs.repl.browser/safari-st-el->frame</a></li><li><a href="/api/cljs.repl.nashorn/repl-envSTAR">cljs.repl.nashorn/repl-env*</a></li><li><a href="/api/cljs.repl.rhino/load-file">cljs.repl.rhino/load-file</a></li><li><a href="/api/cljs.repl.rhino/repl-envSTAR">cljs.repl.rhino/repl-env*</a></li><li><a href="/api/cljs.repl.rhino/wrap-fn">cljs.repl.rhino/wrap-fn</a></li><li><a href="/api/cljs.repl/IGetError">cljs.repl/IGetError</a></li><li><a href="/api/cljs.repl/IParseError">cljs.repl/IParseError</a></li><li><a href="/api/cljs.repl/IParseErrorMessage">cljs.repl/IParseErrorMessage</a></li><li><a href="/api/cljs.repl/apropos">cljs.repl/apropos</a></li><li><a href="/api/cljs.repl/apropos">cljs.repl/apropos</a></li><li><a href="/api/cljs.repl/dir">cljs.repl/dir</a></li><li><a href="/api/cljs.repl/dir">cljs.repl/dir</a></li><li><a href="/api/cljs.repl/find-doc">cljs.repl/find-doc</a></li><li><a href="/api/cljs.repl/find-doc">cljs.repl/find-doc</a></li><li><a href="/api/cljs.repl/pst">cljs.repl/pst</a></li><li><a href="/api/cljs.repl/pst">cljs.repl/pst</a></li><li><a href="/api/cljs.repl/repl-special-doc-map">cljs.repl/repl-special-doc-map</a></li><li><a href="/api/cljs.repl/source">cljs.repl/source</a></li><li><a href="/api/cljs.repl/source">cljs.repl/source</a></li><li><a href="/api/cljs.repl/source-fn">cljs.repl/source-fn</a></li><li><a href="/api/cljs.repl/special-doc-map">cljs.repl/special-doc-map</a></li><li><a href="/api/clojure.browser.repl/get-ua-product">clojure.browser.repl/get-ua-product</a></li></ul></div></div></div></div></div><footer class="site-footer"><div class="wrapper"><hr /><div class="cljs-legal">ClojureScript is licensed <a href="http://opensource.org/licenses/eclipse-1.0.php">EPL 1.0</a><br />Copyright Â© Rich Hickey</div></div></footer></div></body></html>