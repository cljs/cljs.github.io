<html><head><meta charset="utf-8" /><meta content="IE=edge" http-equiv="X-UA-Compatible" /><meta content="width=device-width, initial-scale=1" name="viewport" /><title>CLJS - 1.9.293</title><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,600,700" rel="stylesheet" /><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet" /><link href="/css/normalize.css" rel="stylesheet" /><link href="/css/skeleton.css" rel="stylesheet" /><link href="/css/custom.css" rel="stylesheet" /><link href="/css/github-theme.css" rel="stylesheet" /><link href="/img/icons/apple-touch-icon-57x57.png" rel="apple-touch-icon" sizes="57x57" /><link href="/img/icons/apple-touch-icon-114x114.png" rel="apple-touch-icon" sizes="114x114" /><link href="/img/icons/apple-touch-icon-72x72.png" rel="apple-touch-icon" sizes="72x72" /><link href="/img/icons/apple-touch-icon-144x144.png" rel="apple-touch-icon" sizes="144x144" /><link href="/img/icons/apple-touch-icon-60x60.png" rel="apple-touch-icon" sizes="60x60" /><link href="/img/icons/apple-touch-icon-120x120.png" rel="apple-touch-icon" sizes="120x120" /><link href="/img/icons/apple-touch-icon-76x76.png" rel="apple-touch-icon" sizes="76x76" /><link href="/img/icons/apple-touch-icon-152x152.png" rel="apple-touch-icon" sizes="152x152" /><link href="/img/icons/apple-touch-icon-180x180.png" rel="apple-touch-icon" sizes="180x180" /><link href="/img/icons/favicon-192x192.png" rel="icon" sizes="192x192" type="image/png" /><link href="/img/icons/favicon-160x160.png" rel="icon" sizes="160x160" type="image/png" /><link href="/img/icons/favicon-96x96.png" rel="icon" sizes="96x96" type="image/png" /><link href="/img/icons/favicon-16x16.png" rel="icon" sizes="16x16" type="image/png" /><link href="/img/icons/favicon-32x32.png" rel="icon" sizes="32x32" type="image/png" /></head><body><div class="container"><nav class="navbar"><div class="container"><ul class="navbar-list"><li class="navbar-item"><a class="navbar-link-logo"><img class="navbar-logo" src="/img/cljs-white.svg" /></a></li><li class="navbar-item"><a class="navbar-title">ClojureScript</a></li><li class="navbar-item"><a class="navbar-link" href="/api">API</a></li><li class="navbar-item"><a class="navbar-link" href="/news">News</a></li><li class="navbar-item"><a class="navbar-link" href="https://github.com/clojure/clojurescript" target="_blank">GitHub</a></li></ul></div></nav><div class="container"><div class="row"><div class="three columns" style="overflow-x: hidden"><div class="news-sidebar"><div><a href="/versions">Version Details</a></div><div class="sep"></div><div><span class="version"><a href="/news/1.10.238">1.10.238</a></span></div><div><span class="version"><a href="/news/1.9.946">1.9.946</a></span></div><div><span class="version"><a href="/news/1.9.908">1.9.908</a></span></div><div><span class="version"><a href="/news/1.9.854">1.9.854</a></span></div><div><span class="version"><a href="/news/1.9.671">1.9.671</a></span></div><div><span class="version"><a href="/news/1.9.660">1.9.660</a></span></div><div><span class="version"><a href="/news/1.9.562">1.9.562</a></span></div><div><span class="version"><a href="/news/1.9.542">1.9.542</a></span></div><div><span class="version"><a href="/news/1.9.521">1.9.521</a></span></div><div><span class="version"><a href="/news/1.9.494">1.9.494</a></span></div><div><span class="version"><a href="/news/1.9.473">1.9.473</a></span></div><div><span class="version"><a href="/news/1.9.456">1.9.456</a></span></div><div class="active"><span class="version"><a href="/news/1.9.293">1.9.293</a></span></div><div><span class="version"><a href="/news/1.9.229">1.9.229</a></span></div><div><span class="version"><a href="/news/1.9.216">1.9.216</a></span></div><div><span class="version"><a href="/news/1.9.198">1.9.198</a></span></div><div><span class="version"><a href="/news/1.9.89">1.9.89</a></span></div><div><span class="version"><a href="/news/1.9.76">1.9.76</a></span></div><div><span class="version"><a href="/news/1.9.36">1.9.36</a></span></div><div><span class="version"><a href="/news/1.9.14">1.9.14</a></span></div><div><span class="version"><a href="/news/1.8.51">1.8.51</a></span></div><div><span class="version"><a href="/news/1.8.40">1.8.40</a></span></div><div><span class="version"><a href="/news/1.8.34">1.8.34</a></span></div><div><span class="version"><a href="/news/1.7.228">1.7.228</a></span></div><div><span class="version"><a href="/news/1.7.170">1.7.170</a></span></div><div><span class="version"><a href="/news/1.7.145">1.7.145</a></span></div><div><span class="version"><a href="/news/1.7.48">1.7.48</a></span></div><div><span class="version"><a href="/news/1.7.28">1.7.28</a></span></div><div><span class="version"><a href="/news/0.0-3308">0.0-3308</a></span></div><div><span class="version"><a href="/news/0.0-3255">0.0-3255</a></span></div><div><span class="version"><a href="/news/0.0-3211">0.0-3211</a></span></div><div><span class="version"><a href="/news/0.0-3196">0.0-3196</a></span></div><div><span class="version"><a href="/news/0.0-3126">0.0-3126</a></span></div><div><span class="version"><a href="/news/0.0-3115">0.0-3115</a></span></div><div><span class="version"><a href="/news/0.0-3058">0.0-3058</a></span></div><div><span class="version"><a href="/news/0.0-2913">0.0-2913</a></span></div><div><span class="version"><a href="/news/0.0-2843">0.0-2843</a></span></div><div><span class="version"><a href="/news/0.0-2814">0.0-2814</a></span></div><div><span class="version"><a href="/news/0.0-2755">0.0-2755</a></span></div><div><span class="version"><a href="/news/0.0-2740">0.0-2740</a></span></div><div><span class="version"><a href="/news/0.0-2719">0.0-2719</a></span></div><div><span class="version"><a href="/news/0.0-2644">0.0-2644</a></span></div><div><span class="version"><a href="/news/0.0-2505">0.0-2505</a></span></div><div><span class="version"><a href="/news/0.0-2496">0.0-2496</a></span></div><div><span class="version"><a href="/news/0.0-2411">0.0-2411</a></span></div><div><span class="version"><a href="/news/0.0-2371">0.0-2371</a></span></div><div><span class="version"><a href="/news/0.0-2356">0.0-2356</a></span></div><div><span class="version"><a href="/news/0.0-2341">0.0-2341</a></span></div><div><span class="version"><a href="/news/0.0-2322">0.0-2322</a></span></div><div><span class="version"><a href="/news/0.0-2311">0.0-2311</a></span></div><div><span class="version"><a href="/news/0.0-2301">0.0-2301</a></span></div><div><span class="version"><a href="/news/0.0-2280">0.0-2280</a></span></div><div><span class="version"><a href="/news/0.0-2277">0.0-2277</a></span></div><div><span class="version"><a href="/news/0.0-2268">0.0-2268</a></span></div><div><span class="version"><a href="/news/0.0-2261">0.0-2261</a></span></div><div><span class="version"><a href="/news/0.0-2234">0.0-2234</a></span></div><div><span class="version"><a href="/news/0.0-2227">0.0-2227</a></span></div><div><span class="version"><a href="/news/0.0-2202">0.0-2202</a></span></div><div><span class="version"><a href="/news/0.0-2199">0.0-2199</a></span></div><div><span class="version"><a href="/news/0.0-2197">0.0-2197</a></span></div><div><span class="version"><a href="/news/0.0-2173">0.0-2173</a></span></div><div><span class="version"><a href="/news/0.0-2156">0.0-2156</a></span></div><div><span class="version"><a href="/news/0.0-2138">0.0-2138</a></span></div><div><span class="version"><a href="/news/0.0-2134">0.0-2134</a></span></div><div><span class="version"><a href="/news/0.0-2127">0.0-2127</a></span></div><div><span class="version"><a href="/news/0.0-2120">0.0-2120</a></span></div><div><span class="version"><a href="/news/0.0-2067">0.0-2067</a></span></div><div><span class="version"><a href="/news/0.0-2060">0.0-2060</a></span></div><div><span class="version"><a href="/news/0.0-2030">0.0-2030</a></span></div><div><span class="version"><a href="/news/0.0-2024">0.0-2024</a></span></div><div><span class="version"><a href="/news/0.0-2014">0.0-2014</a></span></div><div><span class="version"><a href="/news/0.0-1978">0.0-1978</a></span></div><div><span class="version"><a href="/news/0.0-1934">0.0-1934</a></span></div><div><span class="version"><a href="/news/0.0-1933">0.0-1933</a></span></div><div><span class="version"><a href="/news/0.0-1913">0.0-1913</a></span></div><div><span class="version"><a href="/news/0.0-1909">0.0-1909</a></span></div><div><span class="version"><a href="/news/0.0-1885">0.0-1885</a></span></div><div><span class="version"><a href="/news/0.0-1877">0.0-1877</a></span></div><div><span class="version"><a href="/news/0.0-1859">0.0-1859</a></span></div><div><span class="version"><a href="/news/0.0-1847">0.0-1847</a></span></div><div><span class="version"><a href="/news/0.0-1798">0.0-1798</a></span></div><div><span class="version"><a href="/news/0.0-1586">0.0-1586</a></span></div><div><span class="version"><a href="/news/0.0-1535">0.0-1535</a></span></div><div><span class="version"><a href="/news/0.0-1513">0.0-1513</a></span></div><div><span class="version"><a href="/news/0.0-1503">0.0-1503</a></span></div><div><span class="version"><a href="/news/0.0-1443">0.0-1443</a></span></div><div><span class="version"><a href="/news/0.0-1236">0.0-1236</a></span></div><div><span class="version"><a href="/news/0.0-1211">0.0-1211</a></span></div><div><span class="version"><a href="/news/0.0-971">0.0-971</a></span></div><div><span class="version"><a href="/news/0.0-927">0.0-927</a></span></div></div></div><div class="nine columns"><div><h2>1.9.293</h2><p>Oct 19, 2016 by David Nolen <a href="https://groups.google.com/d/msg/clojurescript/96RnUYnhq8E/b2TmFNeOCwAJ">on Google Groups</a></p><article><p>This release fixes a major issue with transit analysis caching where
files were leaked. It also includes a very significant compiler
enhancement thanks to Antonio Monteiro - you can now create
ClojureScript files without declaring a namespace. This opens the door
to making a much larger class of Clojure programs portable to
ClojureScript. <code>require</code> and other ns related macros are now available
granted that they appear at the top of the file. Please take careful
note that they are not functions and cannot be used in dynamic
situations. Still this eases writing simple scripts and the door is
now open to finally support data literals in a comprehensive way.</p>
<p>We also bumped the Google Closure compiler dependency. Please note
that Closure Compiler has made breaking changes around JS module
processing so this version of ClojureScript is pinned to this latest
release.</p>
<p>A huge thanks to the many people old and new that contributed to this
release.</p>
<p>As always, feedback is most welcome!</p>
<h3 id="enhancements">Enhancements</h3>
<ul>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1346">CLJS-1346</a>: Support require outside of ns</li>
</ul>
<h3 id="changes">Changes</h3>
<ul>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1762">CLJS-1762</a>: Bump Closure Compiler, refactor module support</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1658">CLJS-1658</a>: testing for protocol membership may return false positives</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1536">CLJS-1536</a>: REPL def symbol init collision</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1805">CLJS-1805</a>: Source map should take false</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1804">CLJS-1804</a>: Self-host: process namespace side-effects for new require without NS</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1803">CLJS-1803</a>: Use new require capability in REPLs</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1796">CLJS-1796</a>: Measure Google Closure specific optimization time</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1782">CLJS-1782</a>: Self-host: allow namespaces to require their own macros</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1563">CLJS-1563</a>: :source-map option to cljs.build.api/build should take nil</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1785">CLJS-1785</a>: Warn on reference to js/foo shadowed by local binding</li>
</ul>
<h3 id="fixes">Fixes</h3>
<ul>
<li>make String an implicit ns like Math. revert char? and clarify docstring. add unit tests for char?</li>
<li>fix cljs.spec.test/check docstring</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1826">CLJS-1826</a>: Self-host: load-deps doesn&#39;t honor <code>:reload</code> and <code>reload-all</code></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1825">CLJS-1825</a>: :source-map error when passing <code>false</code> under simple optimizations</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1821">CLJS-1821</a>: <code>add-preloads</code> should only touch sources if <code>:preloads</code> option specified</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1814">CLJS-1814</a>: Move docstrings for require, etc. from <code>cljs.repl</code> to their new definitions in <code>cljs.core</code></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1809">CLJS-1809</a>: Add 0/1 arity to <code>into</code></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1824">CLJS-1824</a>: transit cache feature leaks files</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1294">CLJS-1294</a>: Let macroexpand(-1) accept any quoted argument.</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1818">CLJS-1818</a>: (hash false) returns different value from Clojure</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1817">CLJS-1817</a>: Strange result when assoc&#39;ing 0 to persistent hash map</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1815">CLJS-1815</a>: Fix failing analyzer tests</li>
<li>follow-up on <a href="http://dev.clojure.org/jira/browse/CLJS-460">CLJS-460</a> defmulti ignores optional :hierarchy argument</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1807">CLJS-1807</a>: Better error messages for <code>ns*</code> calls</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1802">CLJS-1802</a>: Generated namespaces should be of the form <code>cljs.user.fileXXXX</code></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJ-1935">CLJ-1935</a>: Use multimethod dispatch value method lookup to take hierarchies into account in multi-spec</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1682">CLJS-1682</a> :foreign-libs with module conversion does not works properly if it is used form deps.cljs</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1710">CLJS-1710</a>: spec/double-in not implemented</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1787">CLJS-1787</a>: Make cljs.spec explain pluggable</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1781">CLJS-1781</a>: Add cljs.hash-map-test to self-parity tests</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1788">CLJS-1788</a>: Port <a href="http://dev.clojure.org/jira/browse/CLJ-2004">CLJ-2004</a>: include retag in multi-spec form</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1765">CLJS-1765</a>: Empty iterator for hash maps with nil key</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1784">CLJS-1784</a>: nth doesn&#39;t throw on strings or arrays</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1773">CLJS-1773</a>: Self-host: Don&#39;t resolve unqualified symbols / keywords with $macros</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1770">CLJS-1770</a>: goog-defines broken for integers</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1600">CLJS-1600</a>: Destructuring defprotocol fn args causes defrecord impls to silently fail</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1335">CLJS-1335</a>: resolve-macro-var: information missing for macros</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1633">CLJS-1633</a>: Improve error associated with invalid foreign-libs :file path</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1775">CLJS-1775</a>: <code>get</code> with <code>nil</code> returns as if <code>get</code> with <code>0</code></li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1780">CLJS-1780</a>: Records without extmaps fail to iterate</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1774">CLJS-1774</a>: Self-host: Report filenames in warns in test-self-parity</li>
<li><a href="http://dev.clojure.org/jira/browse/CLJS-1779">CLJS-1779</a>: keyword 2-arity constructor accepts anything for both parameters which leads to different hashing</li>
</ul>
</article><div><h2>API Additions</h2><div class="sep"></div><ul><li><a href="/api/cljs.core/PROTOCOL_SENTINEL">PROTOCOL_SENTINEL</a></li><li><a href="/api/cljs.core/doubleQMARK">double?</a></li><li><a href="/api/cljs.core/floatQMARK">float?</a></li><li><a href="/api/cljs.core/infiniteQMARK">infinite?</a></li><li><a href="/api/cljs.core/nsSTAR">ns*</a></li><li><a href="/api/cljs.spec/STARexplain-outSTAR">cljs.spec/*explain-out*</a></li><li><a href="/api/cljs.spec/double-in">cljs.spec/double-in</a></li><li><a href="/api/cljs.spec/explain-printer">cljs.spec/explain-printer</a></li><li><a href="/api/compiler-options/warnings#js-shadowed-by-local">warnings/js-shadowed-by-local</a></li></ul></div></div></div></div></div><footer class="site-footer"><div class="wrapper"><hr /><div class="cljs-legal">ClojureScript is licensed <a href="http://opensource.org/licenses/eclipse-1.0.php">EPL 1.0</a><br />Copyright © Rich Hickey</div></div></footer></div><script src="/js/client.js"></script></body></html>